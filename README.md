# infra-workshop

## Subway-Map

### ë§ êµ¬ì„±í•˜ê¸°

> [!TIP]
> CIDRì€ C class(x.x.x.x/24)ë¡œ ìƒì„± (í˜„ì—…ì—ì„  ê°€ê¸‰ì  B classë¡œ ìƒì„±í•˜ê¸° ğŸ˜€)
> | í´ë˜ìŠ¤ | IP í• ë‹¹ ë²”ìœ„ | ì‚¬ìš© ê°€ëŠ¥í•œ IP ê°œ ìˆ˜ | ì˜ˆì‹œ
> | --- | --- | --- | --- | 
> | B Class | 128.0.0.0 ~ 191.0.0.0 | 2^16 (65,536) | 128.12.12.12 |
> | C Class | 192.0.0.0 ~ 223.0.0.0 | 2^8 (256) | 192.168.10.1 |

<img width="700" alt="image" src="https://github.com/user-attachments/assets/a0c9f993-d893-4fa9-9067-30783e1a7bb7" />


<br></br>

> [!NOTE]
> ***VPC êµ¬ì„±***

| name | cidr |
| --- | --- |
| infraworkshop-apne2 | 192.168.10.0/24 |

---

> [!NOTE]
> ***ì„œë¸Œë„· êµ¬ì„±***
> - ì™¸ë¶€ë§ìœ¼ë¡œ ì‚¬ìš©í•  Subnet : 64ê°œì”© 2ê°œ (AZë¥¼ ë‹¤ë¥´ê²Œ êµ¬ì„±)
>   - ì™¸ë¶€ë§ì€ ì¸í„°ë„· êµ¬ê°„ê³¼ í†µì‹  ê°€ëŠ¥
> - ë‚´ë¶€ë§ìœ¼ë¡œ ì‚¬ìš©í•  Subnet : 32ê°œì”© 1ê°œ
>   - ë‚´ë¶€ë§ì—ì„œë§Œ ì¸í„°ë„· ì ‘ê·¼ ê°€ëŠ¥
> - ê´€ë¦¬ìš©ìœ¼ë¡œ ì‚¬ìš©í•  Subnet : 32ê°œì”© 1ê°œ (system managerë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë³„ë„ì˜ ê´€ë¦¬ë§ ì—†ì´ ë‚´ë¶€ë§ 2ê°œë¡œ êµ¬ì„±, ë³´ì•ˆê·¸ë£¹ë„ ìƒí™©ì— ë§ê²Œ êµ¬ì„±)

| ìš©ë„ | ì´ë¦„ | CIDR | AZ |
| --- | --- | --- | --- | 
| ì™¸ë¶€ | infraworkshop-apne2-public-subnet-a | 192.168.10.0/26 | ap-northeast-2a |
| ì™¸ë¶€ | infraworkshop-apne2-public-subnet-c | 192.168.10.64/26 | ap-northeast-2c |
| ë‚´ë¶€ | infraworkshop-apne2-private-subnet-a | 192.168.10.128/27 | ap-northeast-2a |
| ê´€ë¦¬ | infraworkshop-apne2-private-subnet-c | 192.168.10.160/27 | ap-northeast-2c |

---

> [!NOTE]
> ***ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ êµ¬ì„±***
> - **ì™¸ë¶€ë§**
>   - ì „ì²´ ëŒ€ì—­ : 443 í¬íŠ¸ ì˜¤í”ˆ
>   - ê´€ë¦¬ë§ : 22ë²ˆ í¬íŠ¸ ì˜¤í”ˆ
> - **ë‚´ë¶€ë§**
>   - ì™¸ë¶€ë§ : 3306 í¬íŠ¸ ì˜¤í”ˆ
>   - ê´€ë¦¬ë§ : 22ë²ˆ í¬íŠ¸ ì˜¤í”ˆ
> - ~~**ê´€ë¦¬ë§**~~
>   - ~~ìì‹ ì˜ ë¡œì»¬ PC ê³µì¸ IP : 22ë²ˆ í¬íŠ¸ ì˜¤í”ˆ~~

| ìš©ë„ | ì´ë¦„ | ì¸ë°”ìš´ë“œ ê·œì¹™ | ì•„ì›ƒë°”ìš´ë“œ ê·œì¹™ |
| --- | --- | --- | --- | 
| ì™¸ë¶€ | infraworkshop-apne2-external-permit-security-group | `"0.0.0.0/0:443"`, `192.168.10.160/27:22` | `"0.0.0.0/0":0` |
| ë‚´ë¶€ | infraworkshop-apne2-internal-permit-security-group | `"192.168.10.0/26:3306"`, `192.168.10.160/27:22` | `"0.0.0.0/0":0` |
| ~~ê´€ë¦¬~~ |  |  |  |

---


> [!NOTE]
> ***ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ êµ¬ì„±***
> 
> ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ëŠ” í¼ë¸”ë¦­ IP ì£¼ì†Œë¥¼ ì§€ë‹Œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¸í„°ë„·ê³¼ ì—°ê²°í•˜ë©´ ì¸í„°ë„·ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ìˆ˜ì‹ í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

| ìš©ë„ | ì´ë¦„ | ë„ì°©ì§€ | VPC |
| --- | --- | --- | --- | 
| ì™¸ë¶€ | infraworkshop-apne2-igw | 0.0.0.0 | infraworkshop-apne2 |


> [!NOTE]
> ***ë‚˜íŠ¸ ì¸ìŠ¤í„´ìŠ¤ êµ¬ì„±***
> 
> [FCK-NAT](https://fck-nat.dev/stable/) ë¥¼ í™œìš©í•˜ì—¬ NAT-Gateway ëŒ€ì‹  í•™ìŠµ ìš©ë„ì— ê±¸ë§ëŠ” ì €ë¹„ìš© ê²Œì´íŠ¸ì›¨ì´ êµ¬ì„±
> 
> ë¼ìš°íŒ… í…Œì´ë¸”ì— ì—°ê²°í•  ë•Œ ENIë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì°¸ì¡°

| ìš©ë„ | ì´ë¦„ | ë„ì°©ì§€ | VPC |
| --- | --- | --- | --- | 
| ë‚´ë¶€ | FCK-NAT | 0.0.0.0 | infraworkshop-apne2 |

> [!NOTE]
> ***ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì„±***

| ìš©ë„ | ì´ë¦„ | ì„œë¸Œë„· ì—°ê²° | ê²Œì´íŠ¸ì›¨ì´ |
| --- | --- | --- | --- |
| ì™¸ë¶€ | infraworkshop-apne2-public-route-table | infraworkshop-apne2-public-subnet-a, infraworkshop-apne2-public-subnet-c | infraworkshop-apne2-igw |
| ë‚´ë¶€ | infraworkshop-apne2-private-route-table | infraworkshop-apne2-private-subnet-a, infraworkshop-apne2-private-subnet-c | FCK-NAT |
